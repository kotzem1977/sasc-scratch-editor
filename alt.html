<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="google" value="notranslate" />
    <link rel="shortcut icon" href="static/favicon.ico" />
    <title>Scratch 3.0 GUI (alt) â€” SA SchoolCoding</title>

    <!-- Force fetch to correct asset/project hosts -->
    <script>
    (function(){
      const origFetch = window.fetch && window.fetch.bind(window);
      if (!origFetch) return;

      const ASSET_HOST = 'assets.scratch.mit.edu';
      const PROJ_HOST  = 'projects.scratch.mit.edu';

      function fix(url) {
        try {
          const u = new URL(url, location.href);

          if (u.hostname === 'cdn.assets.scratch.mit.edu') {
            u.hostname = ASSET_HOST;
            return u.toString();
          }
          if (u.pathname.startsWith('/internalapi/asset/')) {
            u.protocol = 'https:'; u.hostname = ASSET_HOST;
            return u.toString();
          }
          if (u.pathname.startsWith('/internalapi/project/')) {
            u.protocol = 'https:'; u.hostname = PROJ_HOST;
            return u.toString();
          }
          if (u.pathname.startsWith('internalapi/asset/')) {
            u.protocol = 'https:'; u.hostname = ASSET_HOST;
            u.pathname = '/' + u.pathname;
            return u.toString();
          }
          if (u.pathname.startsWith('internalapi/project/')) {
            u.protocol = 'https:'; u.hostname = PROJ_HOST;
            u.pathname = '/' + u.pathname;
            return u.toString();
          }
        } catch (_) {}
        return url;
      }

      window.fetch = function(input, init){
        if (typeof input === 'string') {
          return origFetch(fix(input), init);
        } else if (input && typeof input.url === 'string') {
          const newURL = fix(input.url);
          if (newURL !== input.url) input = new Request(newURL, input);
          return origFetch(input, init);
        }
        return origFetch(input, init);
      };
    })();
    </script>

    <!-- Alt GUI bundle (use gui.js instead of scratch-gui.js if needed) -->
    <script defer src="gui.js"></script>

    <style>
      html, body { height: 100%; margin: 0; }
      body { overflow: hidden; background: #0f0f0f; }
    </style>
  </head>
  <body></body>
</html>
