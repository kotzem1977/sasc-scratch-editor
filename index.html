<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SASC Scratch Editor â€” modular</title>
  <link rel="icon" href="./favicon.ico"/>
  <link rel="stylesheet" href="./sasc.css?v=1"/>

  <!-- React UMDs (must come before scratch-gui.js) -->
  <script src="https://unpkg.com/react@16.14.0/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@16.14.0/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/redux@4.2.1/dist/redux.min.js"></script>

  <!-- ðŸ”§ Critical: alias globals BEFORE loading scratch-gui.js -->
  <script>
    (function(){
      if (window.React && !window.react) { window.react = window.React; }
      if (window.ReactDOM && !window['react-dom']) { window['react-dom'] = window.ReactDOM; }
      if (window.Redux && !window.redux) { window.redux = window.Redux; }
      // Small log so we can see this ran even before SASC console
      try { console.log('[BOOT] aliases pre-GUI set'); } catch(_) {}
    })();
  </script>
</head>
<body>
  <div id="app"></div>

  <!-- SASC console -->
  <div id="sasc-console" data-theme="light">
    <header>
      <strong>SASC</strong>
      <div class="row">
        <button id="btn-clear">Clear</button>
        <button id="btn-contrast">Theme</button>
        <button id="btn-copy">Copy Log</button>
      </div>
      <div class="row">
        <button id="btn-bind">Bind VM</button>
        <button id="btn-targets">List Targets</button>
      </div>
      <div class="row">
        <button id="btn-lib-sprite">Sprite Library</button>
        <button id="btn-lib-backdrop">Backdrop Library</button>
        <button id="btn-lib-costume">Costume Library</button>
        <button id="btn-lib-sound">Sound Library</button>
      </div>
      <div class="row">
        <button id="btn-apple-a">Add Apple (A)</button>
        <button id="btn-apple-b">Add Apple (B)</button>
        <button id="btn-apple-c">Add Apple (C: File)</button>
      </div>
      <div class="row">
        <button id="btn-bg-a">Backdrop (A)</button>
        <button id="btn-bg-b">Backdrop (B)</button>
        <button id="btn-bg-c">Backdrop (C: File)</button>
      </div>
      <div class="row">
        <button id="btn-snd-a">Sound (A: Library)</button>
        <button id="btn-snd-b">Sound (B: md5)</button>
        <button id="btn-snd-c">Sound (C: File)</button>
      </div>
      <div class="row">
        <button id="btn-sprite-b">Sprite (md5)</button>
        <button id="btn-sprite-c">Sprite (File)</button>
      </div>
    </header>
    <pre id="sasc-log">SASC clear
</pre>
  </div>

  <!-- hidden file inputs for â€œC: Fileâ€ paths -->
  <input id="file-image" type="file" accept=".svg,.png,.jpg,.jpeg,.gif,image/*" hidden />
  <input id="file-sound" type="file" accept=".wav,.mp3,audio/*" hidden />

  <!-- Console + hooks -->
  <script src="./sasc-console.js?v=1"></script>
  <script src="./hooks-local-first.js?v=1"></script>

  <!-- Your GUI bundle (now React aliases are already set) -->
  <script src="scratch-gui.js?v=modular-001"></script>

  <!-- Mount GUI + VM binder -->
  <script src="./vm-binder.js?v=1"></script>

  <!-- Core helpers & actions -->
  <script src="./asset-helpers.js?v=1"></script>
  <script src="./actions.js?v=2"></script>

  <!-- UI wiring (buttons + library openers) -->
  <script src="./ui-wiring.js?v=2"></script>
</body>
</html>
